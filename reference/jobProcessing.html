





 

 
 
 

 

 
 
     <!doctype html>
<!--
 Generated by Apache Maven Doxia  at 2021-Mar-15  Rendered using Reflow Maven Skin 2.0.2 (http://devacfr.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">
                                                                  
                    <head>
    <meta charset="UTF-8" />
    <title>Concurrent Processing Framework &#x2013; Batch Job Processing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
      <meta http-equiv="content-language" content="en" />
                                                        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v${fontawesomeVersion}/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link href="../css/docs.css" rel="stylesheet" />
    <link href="../css/reflow-skin.css" rel="stylesheet" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/default.min.css" />

    <link href="../css/lightbox.css" rel="stylesheet" />
    <link href="../css/site.css" rel="stylesheet" />
    <link href="../css/print.css" rel="stylesheet" media="print" />

        </head> <!-- end : head -->
<body class="page-reference-jobprocessing project-cpf-parent anchorjs-enabled scrolltop-smooth-enabled m-toc-top-enabled">
    <nav id="m-top-navbar" class="navbar navbar-expand-lg fixed-top navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand mb-0 h1" href="..">
                <span class="color-highlight">CPF</span>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#top-navbar-collapse-1" aria-controls="top-navbar-collapse-1" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="top-navbar-collapse-1">
                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation <b class="caret"></b></a>
                        <div class="dropdown-menu">
                            <a href="../index.html" title="About"  class="dropdown-item ">About</a>
                             <a href="../install.html" title="Installation"  class="dropdown-item ">Installation</a>
                             <a href="../plugin.html" title="Plug-in Developer Guide"  class="dropdown-item ">Plug-in Developer Guide</a>
                             <a href="../client.html" title="Client Developer Guide"  class="dropdown-item ">Client Developer Guide</a>
                             <a href="../admin.html" title="Administrator Guide"  class="dropdown-item ">Administrator Guide</a>
                             <div class="dropdown-submenu">
<a     
     title="Reference"  class="dropdown-item" >Reference</a>                                <div class="dropdown-menu">
                                    <a href="maven.html" title="Maven"  class="dropdown-item ">Maven</a>
                                    <a href="authentication.html" title="Authentication"  class="dropdown-item ">Authentication</a>
                                    <a href="dataTypes.html" title="Data Types"  class="dropdown-item ">Data Types</a>
                                    <a href="fileFormats.html" title="File Formats"  class="dropdown-item ">File Formats</a>
                                    <a href="resourceDescription.html" title="Resource Description"  class="dropdown-item ">Resource Description</a>
                                    <a href="jobStatus.html" title="Job Status"  class="dropdown-item ">Job Status</a>
                                    <a href="structuredData.html" title="Structured Data"  class="dropdown-item ">Structured Data</a>
                                    <a href="opaqueData.html" title="Opaque Data"  class="dropdown-item ">Opaque Data</a>
                                </div>
                            </div>
                          </div>
                    </li>
                      <li class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Modules <b class="caret"></b></a>
                        <div class="dropdown-menu">
                            <a href="../cpf-api-plugin/index.html" title="Concurrent Processing Framework Business Application Plugin API"  class="dropdown-item ">Concurrent Processing Framework Business Application Plugin API</a>
                             <a href="../cpf-api-client/index.html" title="Concurrent Processing Framework Client Java API"  class="dropdown-item ">Concurrent Processing Framework Client Java API</a>
                             <a href="../cpf-api-app/index.html" title="Concurrent Processing Framework Application Java API"  class="dropdown-item ">Concurrent Processing Framework Application Java API</a>
                             <a href="../cpf-api-worker/index.html" title="Concurrent Processing Framework API Worker"  class="dropdown-item ">Concurrent Processing Framework API Worker</a>
                             <a href="../cpf-war-app/index.html" title="Concurrent Processing Framework Base WAR Web Application"  class="dropdown-item ">Concurrent Processing Framework Base WAR Web Application</a>
                             <a href="../cpf-war-worker/index.html" title="Concurrent Processing Framework Base WAR Worker"  class="dropdown-item ">Concurrent Processing Framework Base WAR Worker</a>
                             <a href="../cpf-archetype-plugin/index.html" title="CPF Plug-in Maven Arechtype"  class="dropdown-item ">CPF Plug-in Maven Arechtype</a>
                             <a href="../cpf-archetype-web/index.html" title="Concurrent Processing Framework Archetype Web"  class="dropdown-item ">Concurrent Processing Framework Archetype Web</a>
                             <a href="../plugins/test/index.html" title="CPF Test Plugins"  class="dropdown-item ">CPF Test Plugins</a>
                             <a href="../plugins/digest/index.html" title="Digest Plug-in"  class="dropdown-item ">Digest Plug-in</a>
                             <a href="../plugins/geometry-validation/index.html" title="Geometry Validation Plug-in"  class="dropdown-item ">Geometry Validation Plug-in</a>
                             <a href="../plugins/mandelbrot/index.html" title="Mandelbrot Plug-in"  class="dropdown-item ">Mandelbrot Plug-in</a>
                             <a href="../plugins/map-tile/index.html" title="Map Tile Plug-in"  class="dropdown-item ">Map Tile Plug-in</a>
                          </div>
                    </li>
                      <li class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Contribute <b class="caret"></b></a>
                        <div class="dropdown-menu">
                            <a href="https://github.com/revolsys/cpf/" title="GitHub Project"  class="dropdown-item ">GitHub Project</a>
                             <a href="https://github.com/revolsys/cpf/issues/" title="Issues (GitHub)"  class="dropdown-item ">Issues (GitHub)</a>
                          </div>
                    </li>
                      <li class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Links <b class="caret"></b></a>
                        <div class="dropdown-menu">
                            <a href="https://www2.gov.bc.ca" title="Province of British Columbia" target="_blank" class="dropdown-item ">Province of British Columbia</a>
                             <a href="https://bcdevexchange.org/" title="BC Developer Exchange" target="_blank" class="dropdown-item ">BC Developer Exchange</a>
                          </div>
                    </li>
                      <li class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Maven documentation <b class="caret"></b></a>
                        <div class="dropdown-menu">
                            <div class="dropdown-submenu">
<a     
     href="../project-info.html"  title="Project Information"  class="dropdown-item" >Project Information</a>                                <div class="dropdown-menu">
                                    <a href="../dependency-convergence.html" title="Dependency Convergence"  class="dropdown-item ">Dependency Convergence</a>
                                    <a href="../dependency-info.html" title="Dependency Information"  class="dropdown-item ">Dependency Information</a>
                                    <a href="../dependency-management.html" title="Dependency Management"  class="dropdown-item ">Dependency Management</a>
                                    <a href="../distribution-management.html" title="Distribution Management"  class="dropdown-item ">Distribution Management</a>
                                    <a href="../index.html" title="About"  class="dropdown-item ">About</a>
                                    <a href="../issue-management.html" title="Issue Management"  class="dropdown-item ">Issue Management</a>
                                    <a href="../licenses.html" title="Licenses"  class="dropdown-item ">Licenses</a>
                                    <a href="../modules.html" title="Project Modules"  class="dropdown-item ">Project Modules</a>
                                    <a href="../plugin-management.html" title="Plugin Management"  class="dropdown-item ">Plugin Management</a>
                                    <a href="../plugins.html" title="Plugins"  class="dropdown-item ">Plugins</a>
                                    <a href="../scm.html" title="Source Code Management"  class="dropdown-item ">Source Code Management</a>
                                    <a href="../summary.html" title="Summary"  class="dropdown-item ">Summary</a>
                                    <a href="../team.html" title="Team"  class="dropdown-item ">Team</a>
                                </div>
                            </div>
                             <div class="dropdown-submenu">
<a     
     href="../project-reports.html"  title="Project Reports"  class="dropdown-item" >Project Reports</a>                                <div class="dropdown-menu">
                                    <a href="../apidocs/index.html" title="Javadoc"  class="dropdown-item ">Javadoc</a>
                                </div>
                            </div>
                          </div>
                    </li>
                   </ul><!--/ul.navbar-nav -->
            </div><!--/.nav-collapse -->
        </div> <!--/.container -->
    </nav> <!--/.navbar -->
    <div class="main-body container-fuild my-3">
    <div class="row m-0">
        <div class="d-xs-none d-sm-none d-md-none d-lg-block col-lg-2">
        </div>
        <main class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-8" role="main">
            <div class="header container-fluid">
                      <div class="jumbotron subhead">
        <div class="row m-1" id="banner">
          <div class="col-md-12">
            <div class="float-left bannerLeft">
                                  <div class="bannerLeft">
            <h1>Concurrent Processing Framework</h1>
            </div>
            </div>
            <div class="float-right bannerRight">
                                  <a href="https://www2.gov.bc.ca">
            <img class="float-left m-2 img-fluid" src="../images/bc_sun_logo_horiz.gif"  />
            <h1>Province of British Columbia</h1>
            </a>
            </div>
          </div>
        </div>
      </div>
                     <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a     
     href=".."  title="CPF"  class="" >CPF</a></li>
            <li class="breadcrumb-item active">Batch Job Processing</li>
        </ol>
    </nav>
            </div> <!-- end : header -->
                    <hr class="toc-separator" />
    <div id="m-toc-topbar" class="navbar navbar-expand-lg navbar-light bg-light">
      <div id="toc-scroll-target">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#m-toc-topnav-collapse" aria-controls="m-toc-topnav-collapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        <div id="m-toc-topnav-collapse" class="collapse navbar-collapse">
            <ul id="m-toc-topnav" class="navbar-nav">
                                                <li class="nav-item toplevel"><a class="nav-link" href="#batch_job_processing1" title="Batch Job Processing">Batch Job Processing</a></li>
            </ul>
        </div>
      </div> <!-- .container -->
    </div> <!-- end: m-toc-topbar -->
                 <section> 
 <div class="page-header">
  <h2 id="batch_job_processing1">Batch Job Processing</h2>
 </div> 
 <p>A Job in the CPF is a collection of requests to be processed by a business application on behalf of a user. The CPF uses the business application to process each request in the job to create the results. When all requests in a job have been completed the user can download the results.</p> 
 <p>The following diagram shows all the steps required to process a job using the CPF. Boxes in blue are client specific tasks and those in green are CPF web service API calls.</p> 
 <div class="diagram"> 
  <img src="../images/jobProcessing.png" alt="" class="img-fluid"> 
 </div> 
 <p>Follow these instructions to see a demo of submitting a job to the CPF.</p> 
 <p>NOTE: to use the demo.</p> 
 <ol style="list-style-type: decimal"> 
  <li>Create the mapGrid.txt job request file on your local drive with the following contents.</li> 
 </ol> 
 <div class="source"> 
  <div class="source"> 
   <pre>"NTS 1:250 000",10,"92j"
"BCGS 1:20 000",10,"92j016"
"BCGS 1:20 000",,"92j025"```
2. Using a web browser go to (https://apps.gov.bc.ca/pub/cpf/secure/ws/apps/MapTileByTileId/1.0.0/multiple/).
3. Enter the values for the following parameters.
&lt;div class="table-responsive"&gt;
&lt;table class="table table-condensed table-striped tabled-bordered"&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;th&gt;Num Requests&lt;/th&gt;&lt;td&gt;3&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th&gt;Input Data Content Type&lt;/th&gt;&lt;td&gt;text/csv&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th&gt;Input Data&lt;/th&gt;&lt;td&gt;mapGrid.txt (select the file created in step #1)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th&gt;Result Data Content Type&lt;/th&gt;&lt;td&gt;text/html (Try the others as well as a later exercise)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th&gt;Map Grid Name&lt;/th&gt;&lt;td&gt;BCGS 1:20 000&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th&gt;Num Boundary Points&lt;/th&gt;&lt;td&gt;5&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
4. Click Submit, this is the submit job step.
5. After a few seconds the job status HTML page will be displayed. The Id is the URL to this page,
   which can be saved and used later to check the status of the job.
6. If the status page does not have a Results Url entry in the table refresh the page until it 
   appears. This is the Check Job Status step.
7. Click on the Results Url link to view the list of result files, this is the list result files 
   step.
8. If there were no errors there should be a single link on the result files page. Click this link 
   to download/view the results, this is the download result files step. The format of the result file 
   is the value entered in the Result Data Content Type on the job submission page. If there was an 
   error file it will always be returned as a CSV file.

In the above example the business application returned structured data records as the result of 
each request. The CPF merged these result records into a single file for download. Some business 
applications will return a binary file for each request (e.g. JPG, PNG, PDF). In this case there 
will be one file link on the results page for the result for each request in the job. The order of 
the result file links will be the same as the order of the requests in the input file.
</pre> 
  </div> 
 </div> 
</section>                    </main>
        <div class="d-none d-sm-none d-md-none d-lg-none d-xl-block col-xl-2">
            </div>
    </div> <!-- row: end -->
</div> <!-- .main-body: end -->
    <div id="m-scroll-top" style="display: none;">
        <a href="javascript:;">
            <div class="arrow"></div>
            <div class="stick"></div>
        </a>
    </div>
  <!-- Footer -->
<footer class="footer-light bg-light">
    <div class="container">
        <div class="row">
                        <div class="col bottom-nav">
                <ul class="nav flex-column nav-list">
                </ul>
            </div>
        </div> <!-- END: .row -->
    </div> <!-- END: .container -->
</footer>
  <div class="container subfooter">
    <div class="row">
      <div class="col-md-12">
        <p class="copyright">Copyright &copy;2008-2021
                 <a href="https://www.gov.bc.ca/">Province of British Columbia</a>
. All Rights Reserved.</p>
        <p class="version-date">
<span class="projectVersion">Version: 6.1.x-SNAPSHOT. </span><span class="publishDate">
    Last Published: 2021-Mar-15
. </span>        </p>
      </div>
    </div>
  </div>

  <!-- Le javascript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/${popperVersion}/umd//popper.min.js" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" crossorigin="anonymous"></script>

  <script src="../js/lightbox.min.js" crossorigin="anonymous"></script>
            		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js" crossorigin="anonymous"></script>
              <script src="../js/reflow-skin.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.2/anchor.min.js" crossorigin="anonymous"></script>
    </body>
</html>
